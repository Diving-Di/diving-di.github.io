<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Nodejs Start</title>
      <link href="/2025/03/04/Nodejs%20Start/"/>
      <url>/2025/03/04/Nodejs%20Start/</url>
      
        <content type="html"><![CDATA[<p>从今天开始我要开始学习Nodejs，虽然这东东好像也不用特意去学习的，但是我感觉还是有必要过一遍，就当学一点前端技术了。</p><span id="more"></span><h2 id="编写”Hello-world“"><a href="#编写”Hello-world“" class="headerlink" title="编写”Hello world“"></a>编写”Hello world“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&#x27;http&#x27;);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">http.createServer(function (request, response) &#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        // 发送 HTTP 头部</span><br><span class="line"></span><br><span class="line">        // HTTP 状态值: 200 : OK</span><br><span class="line"></span><br><span class="line">        // 内容类型: text/plain</span><br><span class="line"></span><br><span class="line">        response.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        // 发送响应数据 &quot;Hello World&quot;</span><br><span class="line"></span><br><span class="line">        response.end(&#x27;Hello World\n&#x27;);</span><br><span class="line"></span><br><span class="line">&#125;).listen(7888);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">// 终端打印如下信息</span><br><span class="line"></span><br><span class="line">console.log(&#x27;Server running at http://127.0.0.1:7888/&#x27;);</span><br></pre></td></tr></table></figure><p>以上是代码。<br><img src="/../attachment/Pasted%20image%2020250304205234.png" alt="报错"><br>然后我就报了一个这样的错。直接Google报错信息，就可以知道这是因为端口被占用了。当我在搜索解决方法的时候，找到了这样一个指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -aon | FINDSTR <span class="string">&quot;8888&quot;</span></span><br></pre></td></tr></table></figure><p>这似乎可以查找占用该端口的进程，但是非常奇怪，我执行这个命令之后没有任何的输出。后来又搜索了一下<code>netstat</code>指令，发现好像在Windows系统上没有这个<code>-aon</code>的指令，只有<code>-r -n -s</code>，具体也可以<code>netstat /?</code>查看。<br><img src="/../attachment/Pasted%20image%2020250304210514.png"><br>所以我觉得还是蛮神奇的，这可能是Linux指令，虽然我在Ubuntu上运行这个指令还报错了FINDSTR这个指令不存在。总之非常奇怪的。最后我也没搞懂，铺天盖地都是这个指令，但是我就是运行不了。<br>最后靠着菜鸟教程解决了：<br><img src="/../attachment/Pasted%20image%2020250304210707.png"><br>把代码里的”8888”改成“7888”就可以了。<br><img src="/../attachment/Pasted%20image%2020250304210749.png"><br>然后访问<strong>127.0.0.1:7888</strong>就能看到<code>Hello World</code>了。</p><h2 id="NPM的使用"><a href="#NPM的使用" class="headerlink" title="NPM的使用"></a>NPM的使用</h2><p>其实对我来说，npm已经算是老老朋友了。自从有了博客之后，每天都要跟这个玩意儿斗智斗勇。今天还刚被package.json折磨，不过不是什么大事，只不过是在重新整理博客的主文件夹。</p><h3 id="npm全局安装和本地安装"><a href="#npm全局安装和本地安装" class="headerlink" title="npm全局安装和本地安装"></a>npm全局安装和本地安装</h3><p>这里用到的实例是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express</span><br></pre></td></tr></table></figure><p>不过这样安装好之后，是将express包放在工程目录下的<code>node_modules</code>目录中的。<br>而全局安装会安装在系统级别的目录中。<br>以下是我示范的全局安装，安装完成使用<code>npm list -g</code>查看。因为我使用了fnm管理npm的版本，所以显示的路径是在fnm的相关路径上的。<br><img src="/../attachment/Pasted%20image%2020250304212214.png"><br>可以看到成功安装。当然也可以使用<code>npm list express -g</code>查看express包的具体版本号，一定要加上<code>-g</code>，因为我本地没有express包。</p><h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><ol><li>更新模块：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update express</span><br></pre></td></tr></table></figure></li><li>搜索模块<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm search express</span><br></pre></td></tr></table></figure></li><li>生成<code>package.json</code>文件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure></li><li>在 npm 资源库中注册用户<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br></pre></td></tr></table></figure></li><li>发布模块<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure>当然这些常用指令都是可以<code>npm help</code>查看的。</li></ol><h2 id="package-json的说明与使用"><a href="#package-json的说明与使用" class="headerlink" title="package.json的说明与使用"></a>package.json的说明与使用</h2><h3 id="package-json文件简介"><a href="#package-json文件简介" class="headerlink" title="package.json文件简介"></a>package.json文件简介</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo-site&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo generate&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo clean&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo deploy&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo server&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;hexo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7.3.0&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.3.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-algoliasearch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-deployer-git&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-generator-archive&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-generator-category&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-generator-index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-generator-search&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.4.3&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-generator-tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-ejs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-marked&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.3.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-pug&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-stylus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-theme-butterfly&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.2&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-theme-landscape&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-theme-next&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-util&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.3.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;hexo-wordcount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;js-yaml&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;moment-timezone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.5.46&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;node-sass&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^9.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;typings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.1&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>以上是我的hexo博客的package.json文件，可以很容易看出来各个字段的含义。</p><ul><li><code>name</code>：项目的名称，应该是唯一的，通常使用小写字母和连字符。</li><li><code>version</code>：项目的版本号，遵循语义化版本控制（Semantic Versioning）。</li><li><code>description</code>：项目的简短描述。</li><li><code>main</code>：项目的入口文件，通常是应用程序的启动文件。</li><li>**<code>scripts</code>**：定义了一系列的命令行脚本，可以在项目中执行特定的任务。</li><li>**<code>dependencies</code>**：列出了项目运行所需的所有依赖包及其版本。</li><li><code>devDependencies</code>：列出了只在开发过程中需要的依赖包及其版本。</li><li><code>peerDependencies</code>：列出了项目期望其依赖包也依赖的包。</li><li><code>optionalDependencies</code>：列出了可选的依赖包。</li><li><code>engines</code>：指定了项目兼容的 Node.js 版本。</li><li><code>repository</code>：项目的代码仓库信息，如 GitHub 仓库的 URL。</li><li><code>keywords</code>：项目的关键词，有助于在 npm 搜索中找到项目。</li><li><code>author</code>：项目的作者信息。</li><li><code>license</code>：项目的许可证信息。</li></ul><p>当然有些字段我上面的文件中也没有。<br>我们在使用 <code>npm install &lt;package-name&gt;</code> 命令安装依赖后，npm 会自动将依赖添加到 <code>package.json</code> 文件的 <code>dependencies</code> 或 <code>devDependencies</code> 中，并创建 <code>package-lock.json</code> 文件以锁定依赖的版本。因此，<code>package.json</code>文件就是一个管理项目的环境依赖的文件。</p><h3 id="使用-package-json-的好处"><a href="#使用-package-json-的好处" class="headerlink" title="使用 package.json 的好处"></a>使用 package.json 的好处</h3><ul><li><strong>依赖管理</strong>：集中管理项目的依赖项及其版本。</li><li><strong>自动化任务</strong>：通过 <code>scripts</code> 字段可以方便地运行常见的任务。</li><li><strong>版本控制</strong>：确保项目及其依赖版本的一致性，便于团队协作。</li><li><strong>描述项目</strong>：为项目提供元数据信息，便于发布和共享。</li></ul><h2 id="ENDING"><a href="#ENDING" class="headerlink" title="ENDING"></a>ENDING</h2><p>前置知识就是这些了，之后就开始做简单应用了。</p>]]></content>
      
      
      <categories>
          
          <category> Nodejs学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> study </tag>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客迁移</title>
      <link href="/2025/02/24/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"/>
      <url>/2025/02/24/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo博客迁移"><a href="#hexo博客迁移" class="headerlink" title="hexo博客迁移"></a>hexo博客迁移</h1><p>博主刚开始建站，是用<code>WSL+vscode</code>来配置环境的。之所以用wsl，纯纯是因为上了CTF这门短学期的课程之后，被鬼上身了，发现Ubuntu这种Linux系统配那些诡谲环境简直不要太爽，什么<code>sudo apt</code>，什么<code>sudo apt install</code>，直接搞定好吧。这种极致的轻松也是让博主成功走上了一条不归路。</p><h2 id="遇到的麻烦"><a href="#遇到的麻烦" class="headerlink" title="遇到的麻烦"></a>遇到的麻烦</h2><p>主要的麻烦其实就是不能用Obsidian来管理文件。Obsidian是一个很好的可以用来管理markdown文件的平台。当时我还特意去请教了我的同学，他的博客是用什么写作的，然后才知道的这个Obsidian。</p><p>不过，博主也是一刻也没有用上Obsidian——因为我的文件路径是虚拟磁盘路径……那会儿我还疯狂去google了一下，然后看了好几个帖子才知道，Obsidian找不到系统分配给Ubuntu的虚拟磁盘路径，所以会一直报错打不开。不过现在我用Typora来写作，其实也还好，就是没有文件管理有点难受罢了。</p><p>还有的麻烦就是，网络连接总是奇奇怪怪的，经常会有<code>hexo g -d</code>部署失败的情况。我经常要费很多时间去挂梯子什么的检查一下网络情况，相当麻烦，所以迁回Windows对我来说会舒服一点。当然，也有我刚买了2T的大固态硬盘，内存大大的有的关系~</p><h2 id="博客迁移"><a href="#博客迁移" class="headerlink" title="博客迁移"></a>博客迁移</h2><p>我本来以为只要把整个文件夹拖过来就好了，然后我发现这个node_modules什么的经常会卡住下载不了，然后我才知道要先配置环境。</p><h3 id="Nodejs-环境配置"><a href="#Nodejs-环境配置" class="headerlink" title="Nodejs 环境配置"></a>Nodejs 环境配置</h3><h4 id="fnm-安装与配置"><a href="#fnm-安装与配置" class="headerlink" title="fnm 安装与配置"></a>fnm 安装与配置</h4><p>我使用了fnm来管理下载Node。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install Schniz.fnm</span><br></pre></td></tr></table></figure><p>用windows自带的安装安装指令来下载fnm。</p><p>下载完成可以用以下指令检查一下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fnm --version</span><br></pre></td></tr></table></figure><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/image-20250224145937485.png" alt="image-20250224145937485"></p><p>出现版本就是安装完了。</p><p>还需要设置一下Node镜像地址。</p><p>在设置里搜索环境变量，进入到系统环境变量中。</p><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/1740380721309.png"></p><p>然后新建一个环境变量，变量名为<code>FNM_NODE_DIST_MIRROR</code>，变量值就是镜像地址<code>https://npmmirror.com/mirrors/node/</code>，点击确定即可。</p><p>修改完之后可以用<code>fnm env</code>指令检查。</p><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/image-20250224150714030.png" alt="image-20250224150714030"></p><p><code>FNM_NODE_DIST_MIRROR</code>后面即为有改后的镜像地址。</p><p>最后，配置<strong>Power shell</strong>。</p><p>打开 PowerShell 的配置文件<code>Microsoft.PowerShell_profile.ps1</code>，文件路径为<code>%USERPROFILE%\Documents\WindowsPowerShell</code>，直接在文件资源管理器上面搜索这个路径就可以，如果搜出来没有这个文件就建一个。</p><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/image-20250224150948450.png" alt="image-20250224150948450"></p><p>然后添加以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fnm <span class="built_in">env</span> --use-on-cd | Out-String | Invoke-Expression</span><br></pre></td></tr></table></figure><p>我是必须得添加这个指令，不然powershell用不了node的指令，也是很奇怪。</p><h4 id="node-安装"><a href="#node-安装" class="headerlink" title="node 安装"></a>node 安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fnm install &lt;version&gt;</span><br></pre></td></tr></table></figure><p><code>&lt;version&gt;</code>里是安装node的版本。</p><p>安装完之后，使用<code>fnm current</code>查看当前Node版本。</p><p>也可以使用<code>npm -v</code>和<code>node -v</code>来检查。</p><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/image-20250224152801768.png" alt="image-20250224152801768"></p><p>fnm还有很多别的指令，就不一一列出了。这是一个很好的Node版本管理器，还是很好用的。</p><h4 id="Hexo-配置"><a href="#Hexo-配置" class="headerlink" title="Hexo 配置"></a>Hexo 配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>有时候npm可能连接不是很好，可以换淘宝源试一下或者安装<strong>cnpm</strong>使用（可以参考另一篇博客<a href="https://diving-di.github.io/2024/12/01/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/#cnpm%E5%AE%89%E8%A3%85">hexo+butterfly添加主页搜索功能 </a>）。</p><p>下载完成后可以使用<code>hexo -v</code>检查。</p><p><img src="/../attachment/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/image-20250224153748159.png" alt="image-20250224153748159"></p><h4 id="真正的迁移"><a href="#真正的迁移" class="headerlink" title="真正的迁移"></a>真正的迁移</h4><p>因为我是懒人，我就是想整个都迁出来，所以我直接就用最偷懒的办法了。</p><p>先新建一个文件夹，名字自定，然后在文件夹中直接鼠标右键选择<strong>在终端中打开</strong>。在终端中输入<code>hexo init</code>初始化文件夹。</p><p>接着将之前的博客的整个文件夹拖过来，要选择重名文件覆盖。</p><p>然后就是重新安装node_modules文件夹。</p><h5 id="安装-rimraf-工具"><a href="#安装-rimraf-工具" class="headerlink" title="安装 rimraf 工具"></a>安装 rimraf 工具</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g rimraf</span><br></pre></td></tr></table></figure><p>确保是在整个博客的总文件夹的路径下的。</p><h5 id="删除-node-modules-包和-package-lock-json-文件"><a href="#删除-node-modules-包和-package-lock-json-文件" class="headerlink" title="删除 node_modules 包和 package-lock.json 文件"></a>删除 node_modules 包和 package-lock.json 文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rimraf node_modules</span><br><span class="line">rimraf package-lock.json</span><br></pre></td></tr></table></figure><p>node_modules 和package-lock.json 都需要删除！！！</p><h5 id="清除缓存"><a href="#清除缓存" class="headerlink" title="清除缓存"></a>清除缓存</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clear --force</span><br></pre></td></tr></table></figure><h5 id="重新安装"><a href="#重新安装" class="headerlink" title="重新安装"></a>重新安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>然后就可以正常部署啦！</p><p>之后就可以使用hexo三件套指令看看成不成功了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>PS：刚迁回Windows上操作就是爽了很多哈~</p>]]></content>
      
      
      <categories>
          
          <category> 博客相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Task1：Hello Move</title>
      <link href="/2025/02/24/task1/"/>
      <url>/2025/02/24/task1/</url>
      
        <content type="html"><![CDATA[<p>这是我参加move共学营的第一个任务。因为正好赶上烤柿粥，所以也是拖了很久才开始做。<br></p><span id="more"></span><h3 id="Github配置"><a href="#Github配置" class="headerlink" title="Github配置"></a>Github配置</h3><p>根据指令 <code> ssh-keygen -t rsa -C &quot;你的邮箱&quot;</code>，来设置密钥，这主要是方便GitHub仓库可以直接通过<code>ssh</code>连接，而不是每次都要输入密码。</p><p><img src="/../images/task1-hello-move/ssh.png" alt="ssh装配图片" title="ssh装配图片"></p><p>然后运行<code>cat /home/cindy/.ssh/id_rsa.pub</code>来查看公钥，并且复制到GitHub设置中的SSH Keys里面即可。</p><p><img src="/../images/task1-hello-move/ssh2.png" alt="SSH Keys设置" title="SSH Keys设置"></p><p>因为我已经配置过ssh了的，所以这上面显示两个SSH Keys。</p><p>然后前往letsmove的GitHub仓库：<a href="https://github.com/move-cn">https://github.com/move-cn</a></p><p>将整个仓库fork下来之后，使用以下命令clone自己fork的这个仓库到本地。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> 你的这个仓库的ssh链接</span><br></pre></td></tr></table></figure><p>出现以下结果就是clone成功了。</p><p><img src="/../images/task1-hello-move/git-clone.png" alt="clone-result" title="git clone的结果"></p><h3 id="SUI钱包"><a href="#SUI钱包" class="headerlink" title="SUI钱包"></a>SUI钱包</h3><p>前往浏览器上的SUI钱包<a href="https://chromewebstore.google.com/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil">下载链接</a>下载钱包，然后打开钱包进行登录之后，就可以得到自己的钱包地址啦。</p><p><img src="/../images/task1-hello-move/qb.png" alt="SUI钱包创建" title="SUI钱包创建"></p><h3 id="SUI-CLI安装"><a href="#SUI-CLI安装" class="headerlink" title="SUI CLI安装"></a>SUI CLI安装</h3><p>我选择使用Homebrew来安装SUI，所以要先安装Homebrew。</p><p>首先使用以下命令安装Homebrew的相关依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install build-essential procps curl file git</span><br></pre></td></tr></table></figure><p>Homebrew需要有相对较新版本的 gcc 和 glibc，除此之外，还需要 安装Git、Curl 和 procps（用于监控系统进程）。</p><p>然后通过以下命令安装Homebrew：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>接着就可以使用<code>brew install sui</code>安装SUI。</p><p>用brew安装真的要贼久啊，反正我是这样的。安装成功之后，就可以输入<code>sui -V</code>来查看是否安装成功。我这里显示<code>sui 1.37.1-homebrew</code>，显然是已经安装好了。</p><h3 id="编写HelloWorld"><a href="#编写HelloWorld" class="headerlink" title="编写HelloWorld"></a>编写HelloWorld</h3><p>我是用WSL+Vscode的形式的，感觉这样比较好用且方便。</p><p><img src="/../images/task1-hello-move/WSL+vscode.png" alt="wsl连接vscode" title="Ubuntu连接Vscode"></p><p>点击左下角的蓝色小方块，然后在vscode上方的搜索窗口搜索WSL即可连接上Ubuntu。只不过这个配置还需要一些前期工作的，vscode需要先下载拓展WSL等等，感兴趣可以上网查一下。</p><p>接着在vscode里打开前面git clone 的letsmove仓库文件夹即可。然后按照task1的要求复制001这个文件夹，并把名字改成自己的<strong>GitHub id</strong>。</p><p>将文件夹里最外面的readme.txt里面的基本信息和个人简介填好。还有任务中的钱包截图等要放到images文件夹中。同时记得把打勾框勾起来。最简便的方法是在vscode中安装插件<code>Markdown Preview Enhanced</code>，这样就可以一边编辑一边查看了。而且打勾框可以直接在可视化界面点击即可，不需要再在框里面加上<code>x</code>，这样写出来的可能会显示为一个<code>● [x]</code>，虽然我也不知道为什么，可能是编辑器的关系。</p><p>修改完全之后<code>cd code</code>进入code文件夹，执行<code>sui move new task1</code>创建task1文件。然后打开新建文件中的<strong>task1.move</strong>。</p><p><img src="/../images/task1-hello-move/code.png" alt="代码" title="代码展示"></p><p>将string中的Github id改成自己的就行。图中我是下载了move插件的高亮的，看着会舒服很多。不过舒服是<strong>有代价的</strong>，因为这个插件，导致我后面一直报错，所以推荐<strong>不要安装！！！</strong>。报错请看后面——</p><p><img src="/../images/task1-hello-move/bug.png" alt="bug"></p><p>然后我就被这个bug硬控了一个下午。查了两个小时资料还是没有用，甚至我还把<code>/etc/resolv.conf</code>里的IP地址改成了谷歌服务器的地址还是没有用。尝试了一堆方法，甚至找到了一个有同样问题的人的<a href="https://github.com/MystenLabs/sui/issues/16906">讨论区</a>。虽然我翻了这个讨论区好久都没找到解决方法。主要是感觉并不是网络的问题，我可以ping通<a href="github.com">github.com</a>，SSH链接也是正常的，就很奇怪。然后在讨论群里问了一下之后，发现<code>curl google.com</code>这个命令会失败。可能真是网络问题，所以我又去搜了一下，配置了一下代理。</p><p>本来群里的好心人让我用下面命令配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:1080;</span><br><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:1080;</span><br><span class="line"><span class="built_in">export</span> all_proxy=socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>但是我google之后发现这个已经不行了，要用下面这样的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> hostip=$(<span class="built_in">cat</span> /etc/resolv.conf |grep -oP <span class="string">&#x27;(?&lt;=nameserver\ ).*&#x27;</span>)</span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="string">&quot;http://<span class="variable">$&#123;hostip&#125;</span>:1080&quot;</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=<span class="string">&quot;http://<span class="variable">$&#123;hostip&#125;</span>:1080&quot;</span></span><br></pre></td></tr></table></figure><p>后面的端口号要改成自己windows代理上的端口号。还要把<code>/etc/resolv.conf</code>里的IP改回来。</p><p>然后就会变成另外一种报错，如下：</p><p><img src="/../images/task1-hello-move/new-bug.png" alt="new-bug" title="新的bug"></p><p>当然这些都没有什么鸟用……只要把最开始的<strong>高亮插件</strong>卸载即可完美解决。</p><p><img src="/../images/task1-hello-move/scan.png" alt="结果" title="最终结果图"></p><p>这是最终的结果图！</p>]]></content>
      
      
      <categories>
          
          <category> move共学营 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> study </tag>
            
            <tag> move </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello My First Blog</title>
      <link href="/2025/02/24/hello-world/"/>
      <url>/2025/02/24/hello-world/</url>
      
        <content type="html"><![CDATA[<h1 id="我的第一篇博客！"><a href="#我的第一篇博客！" class="headerlink" title="我的第一篇博客！"></a>我的第一篇博客！</h1><p>偶然之下，我建立了这个自己的网站。虽然到现在才开始修改这个网站的第一篇博客的内容……</p><span id="more"></span><p>直到真正上手之后，我才知道，建一个自己的博客有多么麻烦。我花了好久时间去熟悉整个博客的框架和各种命令，也搜索了大量的网页去布置这个网页的样式。不过，虽然我把整个网站都布置的差不多了，但产能跟不上了——我发现我根本就懒得写东西上去……</p><p>哎哎！我以后一定会多多创作的，肯定只是这段时间太忙了（枯了）。</p>]]></content>
      
      
      <categories>
          
          <category> 博客相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+butterfly添加主页搜索功能</title>
      <link href="/2024/12/01/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/"/>
      <url>/2024/12/01/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<p>虽然我的博客现在还没有什么东西，但是不妨碍我屎盆子镶金边地加上搜索功能。</p><span id="more"></span><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><p>前往博客的根目录，需要在命令行里输入以下代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>使用<code>cnpm</code>是因为我的npm不能正常使用，所以换成了这个<code>npmjs.org</code>镜像。cnpm解决了中国大陆由于网络问题导致的 npm 包下载缓慢的问题，是可以替代官方版本的，个人使用下来还是蛮方便的。如果npm能很好下载就把命令前的cnpm改成npm即可。</p><h3 id="cnpm安装"><a href="#cnpm安装" class="headerlink" title="cnpm安装"></a>cnpm安装</h3><p>这里小小放一下cnpm的安装~</p><h4 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h4><p>这个应该都是安装好的，不放心可以使用<code>node -v</code>检查一下。</p><p><img src="/../attachment/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20241201204011171.png" alt="版本检查"></p><h4 id="安装淘宝镜像"><a href="#安装淘宝镜像" class="headerlink" title="安装淘宝镜像"></a>安装淘宝镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm -registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>这里有一个地方得注意，在下载cnpm之前，用npm下载可能会出现下面的问题：</p><p><img src="/../attachment/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20250108145603701.png" alt="image-20250108145603701"></p><p>这是因为npm的源还是国外的镜像源，不信可以用<code>npm config get registry</code>查看一下。应该可以看到命令行给出的还是官方的镜像源：<a href="https://registry.npmjs.org./">https://registry.npmjs.org。</a></p><p>所以先用<code>npm config set registry https://registry.npmmirror.com</code>指令切换镜像源之后，再进行下载，会快很多。这里的镜像源是最新的镜像源，原域名<a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org/</a> 在 2022.06.30 号下线，停止 <a href="https://so.csdn.net/so/search?q=DNS&spm=1001.2101.3001.7020">DNS</a> 解析，用不了了。</p><h4 id="检查是否安装成功"><a href="#检查是否安装成功" class="headerlink" title="检查是否安装成功"></a>检查是否安装成功</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure><p><img src="/../attachment/butterfly%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/image-20241201204133140.png" alt="cnpm检查"></p><h4 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h4><p>也可以通过下面的指令安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><p>即先安装cnpm，再切换到淘宝npm镜像源。</p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>有时候可能会碰到安装cnpm一直卡住的问题，可能是因为npm版本过低。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g npm</span><br></pre></td></tr></table></figure><p>执行以上命令更新npm，然后执行<code>npm -v</code>检查版本。</p><hr><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="## 修改配置文件"></a>## 修改配置文件</h3><p>修改站点配置文件<code>_config.yml</code>，添加下面的代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># search</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># post:文章范围、page:页面范围、all:覆盖所有</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span> <span class="comment"># 内容是否包含每一篇文章的全部内容</span></span><br><span class="line">  <span class="attr">template:</span>  <span class="comment"># ./search.xml 指定定制的XML模板</span></span><br></pre></td></tr></table></figure><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在主题配置文件<code>_config.butterfly.yml</code>中修改以下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="comment"># Choose: algolia_search / local_search / docsearch</span></span><br><span class="line">  <span class="comment"># leave it empty if you don&#x27;t need search</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">local_search</span></span><br><span class="line">  <span class="attr">placeholder:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Algolia Search</span></span><br><span class="line">  <span class="attr">algolia_search:</span></span><br><span class="line">    <span class="comment"># Number of search results per page</span></span><br><span class="line">    <span class="attr">hitsPerPage:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Local Search</span></span><br><span class="line">  <span class="attr">local_search:</span></span><br><span class="line">    <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">    <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">    <span class="attr">top_n_per_article:</span> <span class="number">3</span></span><br><span class="line">    <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">    <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">CDN:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Docsearch</span></span><br><span class="line">  <span class="comment"># https://docsearch.algolia.com/</span></span><br><span class="line">  <span class="attr">docsearch:</span></span><br><span class="line">    <span class="attr">appId:</span></span><br><span class="line">    <span class="attr">apiKey:</span></span><br><span class="line">    <span class="attr">indexName:</span></span><br><span class="line">    <span class="attr">option:</span></span><br></pre></td></tr></table></figure><p>因为我使用的是<code>local_search</code>，所以我只需要在<code>use</code>后面加上<code>local_search</code>就好了。当然还有剩下两个配置选项，可能会更好用一点，但我不需要这些，所以没有去配置，具体配置情况可以看<a href="https://www.jianshu.com/p/500e2e1e66c5">Hexo + Butterfly 键入搜索功能 - 简书</a>。</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>重新编译运行就能看到最终效果啦！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>这样可以在本地端口看到效果。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure><p>最后再布置到<strong>GitHub</strong>上就可以了~</p>]]></content>
      
      
      <categories>
          
          <category> 博客相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+butterfly访问人数设置</title>
      <link href="/2024/11/29/hexo-butterfly%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%E8%AE%BE%E7%BD%AE/"/>
      <url>/2024/11/29/hexo-butterfly%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo-butterfly-busuanzi设置"><a href="#hexo-butterfly-busuanzi设置" class="headerlink" title="hexo+butterfly busuanzi设置"></a>hexo+butterfly busuanzi设置</h1><p>其实这在butterfly主题上是一件很简单的事情，因为这个主题已经有很完善的busuanzi统计访问人数的功能了。但是，我还是花了很多时间去做这个东东，虽然最后还是没有完成……</p><p>不过这并不是我的原因……</p><span id="more"></span><h2 id="普通设置"><a href="#普通设置" class="headerlink" title="普通设置"></a>普通设置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Busuanzi count for PV / UV in site</span><br><span class="line">busuanzi:</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_pv: true</span><br><span class="line">  page_pv: true</span><br></pre></td></tr></table></figure><p>其实只需要在<code>_config.butterfly.yml</code>文件中修改上述代码，将<code>false</code>修改为<code>true</code>即可。</p><p>但是，我总是能碰到下面这种情况：</p><p><img src="/../attachment/hexo-butterfly%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%E8%AE%BE%E7%BD%AE/image-20241129211005190.png" alt="image-20241129211005190"></p><p>这是一件很tricky的事情，因为按照上面的简单设置，应该不可能出问题才是。我调试了很久之后终于知道了，这是因为<code>busuanzi</code>这个网站使用人日益增多，导致官方服务愈发缓慢，所以会一直加载不出来。这个转圈圈就是加载不出来的关系，并不是内部代码出现什么问题。而网上又没有什么资料说明这个情况，导致我到处修改了好久。直到昨天晚上我突然发现它能加载出来了，重新搜索了一下才知道是这个原因。</p><h2 id="更换CDN"><a href="#更换CDN" class="headerlink" title="更换CDN"></a>更换CDN</h2><p>其实可以使用CDN来加速访问，详情可见<a href="https://github.com/Pil0tXia/busuanzi-modified">这个界面</a>，里面有对CDN修改的说明，还有对busuanzi的js地址修改的说明。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">option:</span><br><span class="line">    # abcjs_basic_js:</span><br><span class="line">    # activate_power_mode:</span><br><span class="line">    # algolia_js:</span><br><span class="line">    # algolia_search:</span><br><span class="line">    # aplayer_css:</span><br><span class="line">    # aplayer_js:</span><br><span class="line">    # artalk_css:</span><br><span class="line">    # artalk_js:</span><br><span class="line">    # blueimp_md5:</span><br><span class="line">    busuanzi: https://jsd.onmicrosoft.cn/gh/Pil0tXia/busuanzi-modified/busuanzi.pure.mini.js</span><br></pre></td></tr></table></figure><p>只需要将<code>_config.butterfly.yml</code>这个文件最下面的option选项中注释掉的<code>busuanzi</code>取消注释，然后加上CDN地址即可。（上面的CDN地址我是从上述网站中复制的，但是没用）。</p><p>不过遗憾的是，我自己使用他给的这三个CDN，还是无法显示出我的访问量等等信息，可能这些CDN有点陈旧了。</p><h2 id="自部署busuanzi访问量统计服务"><a href="#自部署busuanzi访问量统计服务" class="headerlink" title="自部署busuanzi访问量统计服务"></a>自部署busuanzi访问量统计服务</h2><p>这相当于是自己建了一个busuanzi网站供自己使用。其实GitHub上早有这样的开源项目，具体可以去访问<a href="https://github.com/soxft/busuanzi">Github开源项目</a>以及这篇<a href="https://blog.liushen.fun/posts/e401be2d/">博客说明</a>。</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>不过我感觉搞一个这个属实有点浪费时间，所以最后还是决定删去访问量统计这个功能，毕竟这个功能没有什么特别的用处，我也只是想建一个自己的私密的博客每天看看主页赏心悦目的壁纸（嘿嘿）。</p>]]></content>
      
      
      <categories>
          
          <category> 博客相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
